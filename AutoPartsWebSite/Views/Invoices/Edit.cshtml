@model AutoPartsWebSite.Models.Invoice

@{
    ViewBag.Title = "ИЗМЕНИТЬ ПРИЕМ";
}

<DIV class="main-text">
    <h1 id="cntr">@ViewBag.Title</h1>

    <div class="reg-form">
        <br>
        @using (Html.BeginForm("Edit", "Invoices", null, FormMethod.Post, new { enctype = "multipart/form-data" }))        
        {
            @Html.AntiForgeryToken()

            <div class="form-horizontal">
                @Html.ValidationSummary(false, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.Id)
                @Html.HiddenFor(model => model.UserId)  
                @Html.HiddenFor(model => model.Date)                          

                <div class="form-group">
                    @Html.LabelFor(model => model.Number, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @Html.EditorFor(model => model.Number, new { htmlAttributes = new { @class = "form-control" } })                       
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.State, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">                        
                        @Html.DropDownListFor(model => model.State, Model.getInvoiceStates(), htmlAttributes: new { @class = "form-control" })
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.Supplier, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">                        
                        @Html.DropDownListFor(model => model.SupplierId, (IEnumerable<SelectListItem>)ViewBag.SuppliersList, htmlAttributes: new { @class = "form-control" })                                           
                    </div>
                </div>

                <div class="form-group">
                    @Html.LabelFor(model => model.FileName, htmlAttributes: new { @class = "control-label col-md-2" })
                    <div class="col-md-10">
                        @*@Html.EditorFor(model => model.FileName, new { htmlAttributes = new { @class = "form-control" } })
                        @Html.ValidationMessageFor(model => model.FileName, "", new { @class = "text-danger" })*@
                        <input type="file" name="upload" id="upload_hidden" onchange="document.getElementById('upload_visible').value = this.value;" accept=".xlsx" />
                        <input type="text" readonly="1" id="upload_visible" onclick="document.getElementById('upload_hidden').click();" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <input type="submit" value="Сохранить" class="btn btn-default" />
                    </div>
                </div>
            </div>
        }
    </div>
    <br />
    <div id="cntr">
        @Html.ActionLink("Назад в прием товаров", "Index")
    </div>
</DIV>